<!doctype html>
    <html>
    <head>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
      <script src="https://cdn.bootcss.com/popper.js/1.11.0/umd/popper.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <% if(isAuthenticated) { %>
          <title><%= user.given_name %>'s Competitions</title>
        <% } else { %>
          <title>You are not logged in.</title>
        <% } %>
    </head>
    <header>
      <% if(isAuthenticated) { %>
      <!-- <nav class="navbar navbar-light" style="background-color: #007bff;">
        <a class="navbar-brand mt-5" href="landing" style="position:fixed; margin-left:auto; background-color: #ffffff; border-radius: 7%;">
            <img src="<%= user.picture %>" width="30" height="30" class="d-inline-block align-top rounded-circle" alt="">
            <%= user.given_name %> <%= user.family_name %>
        </a>
        <div class="ms-auto"><a id="prev-projects-link" class="nav-link" style="color:white" href="/data_display">Previous Projects</a></div>
      </nav> -->
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <a class="navbar-brand" style="padding-left:1rem"><b>BCA Research</b></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarText">
          <ul class="navbar-nav mr-auto" style="padding-left:1rem;">
            <li class="nav-item">
              <a class="nav-link" href="about">About</a>
            </li>
            <li class="nav-item">
              <% if(isTeacher) { %>
              <a class="nav-link" href="management_console">My Profile</a>
              <% } else { %>
              <a class="nav-link" href="landing">My Profile</a>
              <% } %>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="data_display">Previous Projects</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="competitions"><b>Competitions</b></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="protocols">Protocols</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="project_upload">+ Create New Project</a>
            </li>
          </ul>
          <span class="navbar-text" style="margin-left:auto; margin-right: 1.5rem;">
            <a class="navbar-brand" href="landing" style="margin-left:auto;">
                <img src="<%= user.picture %>" width="30" height="30" class="d-inline-block align-top rounded-circle" alt="">
                <%= user.given_name %> <%= user.family_name %>
            </a>
          </span>
        </div>
      </nav>
      <h1 class="mb-4" style="text-align:center; padding-top:5rem;">Competitions</h1>
      <% } %>
    </header>
    <!--Define variable based on type of competition, then upload it to the specific competition subfolder-->
    <body>
      <% if(isAuthenticated) { %>
        <div class="card mb-3" style="width:75%; margin:auto">
          <div class="card-header">
            <h1>BCA Research Expo</h1>
          </div>
          <div class="card-body">
            <form class="needs-validation" action="/addBCAExpo" method="post" enctype="multipart/form-data" novalidate>
              <h6 style="font-size: 20px;">Abstract</h6>
              <input type="file" class="form-control-file" name="bcaExpoForms" id="abstract" multiple onchange="showname()"/><br>

              <h5 style="font-size: 20px;">Permission Slip</h5>
              <input type="file" class="form-control-file" name="bcaExpoForms" id="permSlip" multiple onchange="showname()"/><br>

              <h4 style="font-size: 20px;">Research Plan</h4>
              <input type="file" class="form-control-file" name="bcaExpoForms" id="resPlan" multiple onchange="showname()"/><br>

              <input type="submit" name="Submit" class="btn btn-primary" value="Submit">
            </form>

            <!-- <form id="BCA_abstract_upload" class="needs-validation" action="/add_competition_PDF" method="post" enctype="multipart/form-data" novalidate>
                <input type="file" class="form-control-file" name="competitionPDF" id="expoAbstractInput" multiple onchange="showname()"/>
            </form> -->

          </div>
        </div>

        <div class="card mb-3" style="width:75%; margin:auto">
          <div class="card-header">
            <h1>ISEF</h1>
          </div>
          <div class="card-body">
            <form class="needs-validation" action="/addBCAExpo" method="post" enctype="multipart/form-data" novalidate>
              <h6 style="font-size: 20px;">Abstract</h6>
              <input type="file" class="form-control-file" name="bcaExpoForms" id="abstract" multiple onchange="showname()"/><br>

              <h5 style="font-size: 20px;">Permission Slip</h5>
              <input type="file" class="form-control-file" name="bcaExpoForms" id="permSlip" multiple onchange="showname()"/><br>

              <h4 style="font-size: 20px;">ISEF Forms + Research Plan</h4>
              <input type="file" class="form-control-file" name="bcaExpoForms" id="resPlan" multiple onchange="showname()"/><br>

              <input type="submit" name="Submit" class="btn btn-primary" value="Submit">
            </form>

          </div>
        </div>
    
        <div class="card mb-3" style="width:75%; margin:auto">
          <div class="card-header">
            <h1>Regeneron STS</h1>
          </div>
          <div class="card-body">
            <form class="needs-validation" action="/addBCAExpo" method="post" enctype="multipart/form-data" novalidate>
              <h6 style="font-size: 20px;">Abstract</h6>
              <input type="file" class="form-control-file" name="bcaExpoForms" id="abstract" multiple onchange="showname()"/><br>

              <h5 style="font-size: 20px;">Permission Slip</h5>
              <input type="file" class="form-control-file" name="bcaExpoForms" id="permSlip" multiple onchange="showname()"/><br>

              <h4 style="font-size: 20px;">Regeneron Forms</h4>
              <input type="file" class="form-control-file" name="bcaExpoForms" id="resPlan" multiple onchange="showname()"/><br>

              <input type="submit" name="Submit" class="btn btn-primary" value="Submit">
            </form>

            <!-- <form id="BCA_abstract_upload" class="needs-validation" action="/add_competition_PDF" method="post" enctype="multipart/form-data" novalidate>
                <input type="file" class="form-control-file" name="competitionPDF" id="expoAbstractInput" multiple onchange="showname()"/>
            </form> -->

          </div>
        </div>


      <% } else { %>
        <div class="auth-login-container">
          <p>Please log in to access this page.</p>
          <button onclick="location.href='/login'" class="btn btn-primary">Login</button>
        </div>
      <% } %>

      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
      </script>
      <script>
        function showname() {
          var fName = document.getElementById('expoAbstractInput');
        }
        // document.getElementById('expoAbstractInput').onchange = function () {
        //   alert('Selected file: ' + this.value);
        // };
      </script>

      <style>
      </style>
    </body>
</html>


